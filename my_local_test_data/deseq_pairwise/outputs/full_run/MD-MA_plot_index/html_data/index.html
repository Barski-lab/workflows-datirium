<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Customizable MD/MA Plot with tooltips in D3 (v1)</title>
        <link rel="shortcut icon" href="#"> <!-- prevent "favicon.ico not found" error in console -->
        <script src="https://d3js.org/d3.v4.min.js"></script>

        <!-- for svg/png/jpg saving -->
        <script type="text/javascript"
            src="https://cdn.rawgit.com/eligrey/canvas-toBlob.js/f1a01896135ab378aa5c0118eadd81da55e698d8/canvas-toBlob.js"></script>
        <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"></script>

        
        <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        

        <link rel="stylesheet" href="index.css">
        <script src="index.js" type="text/javascript"></script>
    </head>

    <body>
        <div class="d-flex flex-row justify-content-start flex-sm-wrap ">

            <nav id="sidebar" aria-label="customize plot form" class="sidebar"></nav>

            <div class="content">
                <nav class="navbar navbar-expand-lg"  > <!-- class="navbar-light bg-light"-->
                    <div class="flex-row justify-content-space-evenly"> <!-- class="container-fluid"-->
                        <!--<button type="button" id="sidebarCollapse" class="btn btn-info" aria-label="button to toggle customize plot form">
                            <em class="fas fa-align-left"></em>
                            <span>Toggle Sidebar</span>
                        </button>-->

                        <!-- "download as ..." buttons -->
                        <button type="button" class="btn btn-outline-secondary" id="exportsvg">download SVG</button>
                        <button type="button" class="btn btn-outline-secondary" id="exportpng">download PNG</button> 
                        <button type="button" class="btn btn-outline-secondary" id="export-tsv">download data TSV</button> 
                        
                        <!-- update plot (gets values from form)-->
                        <button type="button" class="btn btn-primary" id="apply">Update Plot</button>

                        <!-- reset form & plot -->
                        <button type="button" class="btn btn-outline-secondary" id="resetformandplot">Reset Form and Plot</button> 
                    </div>
                </nav>
                <hr class="mt-2"/>

                <div class="align-self-stretch" id="temp1">
                    <div id="chart"></div>
                </div>
                
            </div>
        </div>

        <div id="tooltip"></div>

        <script type="text/javascript">

            var file = window.location.href.replace('/index.html', '') + '/report.tsv';
            var xColName = 'baseMean'; 
            var yColName = 'log2FoldChange';
            var dataNameCol = 'feature'; 
            let plotDivID = 'chart';
            let formDivID = 'sidebar'; 
            let plotType = 'MA';

            
            initVisualPlugin(file, plotDivID, formDivID, xColName, yColName, dataNameCol);
            
        </script>
    </body>
</html>